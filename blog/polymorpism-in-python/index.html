<!DOCTYPE html><html lang="en" class="__className_e8ce0c"><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="preload" href="/_next/static/media/e4af272ccee01ff0-s.p.woff2" as="font" crossorigin="" type="font/woff2"/><link rel="stylesheet" href="/_next/static/css/59273e8f773fc2b7.css" data-precedence="next"/><link rel="stylesheet" href="/_next/static/css/2b3a655339adccf8.css" data-precedence="next"/><link rel="stylesheet" href="/_next/static/css/ef46db3751d8e999.css" data-precedence="next"/><link rel="preload" as="script" fetchPriority="low" href="/_next/static/chunks/webpack-d01efc07563e4248.js"/><script src="/_next/static/chunks/40bf5d38-6322f1d52b61a2ab.js" async=""></script><script src="/_next/static/chunks/20-21629e1af7b1d0d1.js" async=""></script><script src="/_next/static/chunks/main-app-a67f82da248f347f.js" async=""></script><script src="/_next/static/chunks/5398b9db-8419f9f8598b8d28.js" async=""></script><script src="/_next/static/chunks/252-822a320d24ca2e02.js" async=""></script><script src="/_next/static/chunks/app/layout-6b390b4951074596.js" async=""></script><script src="/_next/static/chunks/274-769122914a4517f4.js" async=""></script><script src="/_next/static/chunks/930-0b53e8fd2502cd51.js" async=""></script><script src="/_next/static/chunks/app/blog/%5Bslug%5D/page-d16a4e7949a9ec68.js" async=""></script><script src="/_next/static/chunks/app/error-8198244559251fde.js" async=""></script><meta name="next-size-adjust" content=""/><link rel="alternate" type="application/rss+xml" href="/rss.xml" title="RSS Feed"/><link rel="alternate" type="application/atom+xml" href="/atom.xml" title="Atom Feed"/><link rel="alternate" type="application/feed+json" href="/feed.json" title="JSON Feed"/><title>No More `if isinstance`— Polymorphism in Python with `@singledispatch`! | Akash Patki</title><meta name="description" content="Polymorphism sounds complex, but it’s easier (and cooler) than you think. Let a cartoon snake walk you through writing cleaner Python code."/><meta name="robots" content="index, follow"/><meta name="googlebot" content="index, follow, max-video-preview:-1, max-image-preview:large, max-snippet:-1"/><meta property="og:title" content="No More `if isinstance`— Polymorphism in Python with `@singledispatch`!"/><meta property="og:description" content="Polymorphism sounds complex, but it’s easier (and cooler) than you think. Let a cartoon snake walk you through writing cleaner Python code."/><meta property="og:url" content="https://keycache.github.io//blog/polymorpism-in-python/"/><meta property="og:image" content="https://keycache.github.io//og?title=No%20More%20%60if%20isinstance%60%E2%80%94%20Polymorphism%20in%20Python%20with%20%60%40singledispatch%60!"/><meta property="og:type" content="article"/><meta property="article:published_time" content="2025-07-15"/><meta name="twitter:card" content="summary_large_image"/><meta name="twitter:title" content="No More `if isinstance`— Polymorphism in Python with `@singledispatch`!"/><meta name="twitter:description" content="Polymorphism sounds complex, but it’s easier (and cooler) than you think. Let a cartoon snake walk you through writing cleaner Python code."/><meta name="twitter:image" content="https://keycache.github.io//og?title=No%20More%20%60if%20isinstance%60%E2%80%94%20Polymorphism%20in%20Python%20with%20%60%40singledispatch%60!"/><link rel="icon" href="/favicon.ico"/><script>document.querySelectorAll('body link[rel="icon"], body link[rel="apple-touch-icon"]').forEach(el => document.head.appendChild(el))</script><script src="/_next/static/chunks/polyfills-42372ed130431b0a.js" noModule=""></script></head><body class="antialiased flex flex-col items-center justify-center mx-auto mt-2 lg:mt-8 mb-12"><script>((e,t,r,n,o,a,i,u)=>{let l=document.documentElement,s=["light","dark"];function c(t){var r;(Array.isArray(e)?e:[e]).forEach(e=>{let r="class"===e,n=r&&a?o.map(e=>a[e]||e):o;r?(l.classList.remove(...n),l.classList.add(a&&a[t]?a[t]:t)):l.setAttribute(e,t)}),r=t,u&&s.includes(r)&&(l.style.colorScheme=r)}if(n)c(n);else try{let e=localStorage.getItem(t)||r,n=i&&"system"===e?window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light":e;c(n)}catch(e){}})("class","theme","system",null,["light","dark"],null,true,true)</script><main class="flex-auto min-w-0 mt-2 md:mt-6 flex flex-col px-6 sm:px-4 md:px-0 max-w-[624px] w-full"><nav class="lg:mb-16 mb-12 py-5"><div class="flex flex-col md:flex-row md:items-center justify-between"><div class="flex items-center"><a class="text-3xl font-semibold" href="/">Akash Patki</a></div><div class="flex flex-row gap-4 mt-6 md:mt-0 md:ml-auto items-center"><a class="transition-all hover:text-neutral-800 dark:hover:text-neutral-200 flex align-middle relative" href="/blog/">Blog</a><a class="transition-all hover:text-neutral-800 dark:hover:text-neutral-200 flex align-middle relative" href="/projects/">Projects</a><a class="transition-all hover:text-neutral-800 dark:hover:text-neutral-200 flex align-middle relative" href="/">Home</a><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 512 512" class="h-[14px] w-[14px] text-[#1c1c1c]" aria-hidden="true" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M448 256c0-106-86-192-192-192l0 384c106 0 192-86 192-192zM0 256a256 256 0 1 1 512 0A256 256 0 1 1 0 256z"></path></svg></div></div></nav><section><script type="application/ld+json">{"@context":"https://schema.org","@type":"BlogPosting","headline":"No More `if isinstance`— Polymorphism in Python with `@singledispatch`!","datePublished":"2025-07-15","dateModified":"2025-07-15","description":"Polymorphism sounds complex, but it’s easier (and cooler) than you think. Let a cartoon snake walk you through writing cleaner Python code.","image":"/og?title=No%20More%20%60if%20isinstance%60%E2%80%94%20Polymorphism%20in%20Python%20with%20%60%40singledispatch%60!","url":"https://keycache.github.io//blog/polymorpism-in-python","author":{"@type":"Person","name":"KeyCache"}}</script><h1 class="title mb-3 font-medium text-2xl">No More `if isinstance`— Polymorphism in Python with `@singledispatch`!</h1><div class="flex justify-between items-center mt-2 mb-8 text-medium"><p class="text-sm text-neutral-600 dark:text-neutral-400">Jul 15, 2025</p></div><article class="prose prose-quoteless prose-neutral dark:prose-invert"><blockquote>
<p>Because type-checking spaghetti code is so 2022</p>
</blockquote>
<img alt="Happy Python Developer" loading="lazy" width="640" height="500" decoding="async" data-nimg="1" class="rounded-lg" style="color:transparent" src="/photos/polymorpism-in-python-2.png"/>
<p>Introduction</p>
<ul>
<li>Tired of writing long <code><span class="sh__line"><span class="sh__token--keyword" style="color:var(--sh-keyword)">if</span><span class="sh__token--space" style="color:var(--sh-space)"> </span><span class="sh__token--identifier" style="color:var(--sh-identifier)">isinstance</span><span class="sh__token--sign" style="color:var(--sh-sign)">(</span><span class="sh__token--sign" style="color:var(--sh-sign)">.</span><span class="sh__token--sign" style="color:var(--sh-sign)">.</span><span class="sh__token--sign" style="color:var(--sh-sign)">.</span><span class="sh__token--sign" style="color:var(--sh-sign)">)</span></span></code> chains just to handle different data types?</li>
<li>Say hello to <code><span class="sh__line"><span class="sh__token--sign" style="color:var(--sh-sign)">@</span><span class="sh__token--identifier" style="color:var(--sh-identifier)">singledispatch</span></span></code>, Python’s elegant solution for type-based function overloading.</li>
<li>It’s Python’s take on polymorphism — and yes, it’s as cool as it sounds.</li>
<li>In this blog, you’ll learn what it is, when to use it, and how it can make your code cleaner.</li>
<li>We&#x27;ll even walk through a real-world example: building a type-based serializer!</li>
</ul>
<p>Prerequisites</p>
<ul>
<li>Basic knowledge of Python functions and decorators.</li>
<li>Understanding of data types like <code><span class="sh__line"><span class="sh__token--identifier" style="color:var(--sh-identifier)">int</span></span></code>, <code><span class="sh__line"><span class="sh__token--identifier" style="color:var(--sh-identifier)">str</span></span></code>, <code><span class="sh__line"><span class="sh__token--identifier" style="color:var(--sh-identifier)">list</span></span></code>, <code><span class="sh__line"><span class="sh__token--identifier" style="color:var(--sh-identifier)">datetime</span></span></code>, etc.</li>
<li>Familiarity with <code><span class="sh__line"><span class="sh__token--identifier" style="color:var(--sh-identifier)">isinstance</span><span class="sh__token--sign" style="color:var(--sh-sign)">(</span><span class="sh__token--sign" style="color:var(--sh-sign)">)</span></span></code> and why it often clutters code.</li>
<li>Python 3.4+ (since <code><span class="sh__line"><span class="sh__token--sign" style="color:var(--sh-sign)">@</span><span class="sh__token--identifier" style="color:var(--sh-identifier)">singledispatch</span></span></code> was added in Python 3.4).</li>
<li>A desire to write more modular and extensible code.</li>
</ul>
<p>Understanding <code><span class="sh__line"><span class="sh__token--sign" style="color:var(--sh-sign)">@</span><span class="sh__token--identifier" style="color:var(--sh-identifier)">singledispatch</span></span></code></p>
<ul>
<li><code><span class="sh__line"><span class="sh__token--sign" style="color:var(--sh-sign)">@</span><span class="sh__token--identifier" style="color:var(--sh-identifier)">singledispatch</span></span></code> is a decorator from <code><span class="sh__line"><span class="sh__token--identifier" style="color:var(--sh-identifier)">functools</span></span></code> that lets you define a function whose behavior varies based on the type of the first argument.</li>
<li>It&#x27;s Python’s way of enabling ad hoc polymorphism — overloading based on type.</li>
<li>Each type gets its own version of the function, registered separately.</li>
<li>Keeps logic isolated and clean — no need for nested <code><span class="sh__line"><span class="sh__token--keyword" style="color:var(--sh-keyword)">if</span><span class="sh__token--sign" style="color:var(--sh-sign)">/</span><span class="sh__token--identifier" style="color:var(--sh-identifier)">elif</span></span></code> blocks.</li>
<li>Makes your codebase easier to extend and test.</li>
</ul>
<p>Example: Type-Based Data Serializer</p>
<p>Scenario:
You’re building an API or logging system that needs to serialize various Python objects (e.g., <code><span class="sh__line"><span class="sh__token--identifier" style="color:var(--sh-identifier)">datetime</span></span></code>, <code><span class="sh__line"><span class="sh__token--class" style="color:var(--sh-class)">Decimal</span></span></code>, <code><span class="sh__line"><span class="sh__token--identifier" style="color:var(--sh-identifier)">list</span></span></code>) into JSON-compatible formats.</p>
<p>The Problem:
Using <code><span class="sh__line"><span class="sh__token--identifier" style="color:var(--sh-identifier)">isinstance</span><span class="sh__token--sign" style="color:var(--sh-sign)">(</span><span class="sh__token--sign" style="color:var(--sh-sign)">)</span></span></code> checks everywhere creates tangled, unreadable code.</p>
<p>The Solution:
Use <code><span class="sh__line"><span class="sh__token--sign" style="color:var(--sh-sign)">@</span><span class="sh__token--identifier" style="color:var(--sh-identifier)">singledispatch</span></span></code> to define clear, type-specific serializers.</p>
<pre><code class="language-python"><span class="sh__line"><span class="sh__token--keyword" style="color:var(--sh-keyword)">from</span><span class="sh__token--space" style="color:var(--sh-space)"> </span><span class="sh__token--identifier" style="color:var(--sh-identifier)">functools</span><span class="sh__token--space" style="color:var(--sh-space)"> </span><span class="sh__token--keyword" style="color:var(--sh-keyword)">import</span><span class="sh__token--space" style="color:var(--sh-space)"> </span><span class="sh__token--identifier" style="color:var(--sh-identifier)">singledispatch</span><span class="sh__token--break" style="color:var(--sh-break)"></span></span>
<span class="sh__line"><span class="sh__token--keyword" style="color:var(--sh-keyword)">from</span><span class="sh__token--space" style="color:var(--sh-space)"> </span><span class="sh__token--identifier" style="color:var(--sh-identifier)">datetime</span><span class="sh__token--space" style="color:var(--sh-space)"> </span><span class="sh__token--keyword" style="color:var(--sh-keyword)">import</span><span class="sh__token--space" style="color:var(--sh-space)"> </span><span class="sh__token--identifier" style="color:var(--sh-identifier)">datetime</span><span class="sh__token--break" style="color:var(--sh-break)"></span></span>
<span class="sh__line"><span class="sh__token--keyword" style="color:var(--sh-keyword)">from</span><span class="sh__token--space" style="color:var(--sh-space)"> </span><span class="sh__token--identifier" style="color:var(--sh-identifier)">decimal</span><span class="sh__token--space" style="color:var(--sh-space)"> </span><span class="sh__token--keyword" style="color:var(--sh-keyword)">import</span><span class="sh__token--space" style="color:var(--sh-space)"> </span><span class="sh__token--class" style="color:var(--sh-class)">Decimal</span><span class="sh__token--break" style="color:var(--sh-break)"></span></span>
<span class="sh__line"><span class="sh__token--keyword" style="color:var(--sh-keyword)">import</span><span class="sh__token--space" style="color:var(--sh-space)"> </span><span class="sh__token--identifier" style="color:var(--sh-identifier)">json</span><span class="sh__token--break" style="color:var(--sh-break)"></span></span>
<span class="sh__line"><span class="sh__token--break" style="color:var(--sh-break)"></span></span>
<span class="sh__line"><span class="sh__token--sign" style="color:var(--sh-sign)">@</span><span class="sh__token--identifier" style="color:var(--sh-identifier)">singledispatch</span><span class="sh__token--break" style="color:var(--sh-break)"></span></span>
<span class="sh__line"><span class="sh__token--identifier" style="color:var(--sh-identifier)">def</span><span class="sh__token--space" style="color:var(--sh-space)"> </span><span class="sh__token--identifier" style="color:var(--sh-identifier)">to_json_serializable</span><span class="sh__token--sign" style="color:var(--sh-sign)">(</span><span class="sh__token--identifier" style="color:var(--sh-identifier)">value</span><span class="sh__token--sign" style="color:var(--sh-sign)">)</span><span class="sh__token--sign" style="color:var(--sh-sign)">:</span><span class="sh__token--break" style="color:var(--sh-break)"></span></span>
<span class="sh__line"><span class="sh__token--space" style="color:var(--sh-space)">    </span><span class="sh__token--identifier" style="color:var(--sh-identifier)">raise</span><span class="sh__token--space" style="color:var(--sh-space)"> </span><span class="sh__token--class" style="color:var(--sh-class)">TypeError</span><span class="sh__token--sign" style="color:var(--sh-sign)">(</span><span class="sh__token--identifier" style="color:var(--sh-identifier)">f</span><span class="sh__token--string" style="color:var(--sh-string)">&quot;</span><span class="sh__token--string" style="color:var(--sh-string)">Type {type(value)} not serializable</span><span class="sh__token--string" style="color:var(--sh-string)">&quot;</span><span class="sh__token--sign" style="color:var(--sh-sign)">)</span><span class="sh__token--break" style="color:var(--sh-break)"></span></span>
<span class="sh__line"><span class="sh__token--break" style="color:var(--sh-break)"></span></span>
<span class="sh__line"><span class="sh__token--sign" style="color:var(--sh-sign)">@</span><span class="sh__token--identifier" style="color:var(--sh-identifier)">to_json_serializable</span><span class="sh__token--sign" style="color:var(--sh-sign)">.</span><span class="sh__token--property" style="color:var(--sh-property)">register</span><span class="sh__token--sign" style="color:var(--sh-sign)">(</span><span class="sh__token--identifier" style="color:var(--sh-identifier)">datetime</span><span class="sh__token--sign" style="color:var(--sh-sign)">)</span><span class="sh__token--break" style="color:var(--sh-break)"></span></span>
<span class="sh__line"><span class="sh__token--identifier" style="color:var(--sh-identifier)">def</span><span class="sh__token--space" style="color:var(--sh-space)"> </span><span class="sh__token--class" style="color:var(--sh-class)">_</span><span class="sh__token--sign" style="color:var(--sh-sign)">(</span><span class="sh__token--identifier" style="color:var(--sh-identifier)">value</span><span class="sh__token--sign" style="color:var(--sh-sign)">)</span><span class="sh__token--sign" style="color:var(--sh-sign)">:</span><span class="sh__token--break" style="color:var(--sh-break)"></span></span>
<span class="sh__line"><span class="sh__token--space" style="color:var(--sh-space)">    </span><span class="sh__token--keyword" style="color:var(--sh-keyword)">return</span><span class="sh__token--space" style="color:var(--sh-space)"> </span><span class="sh__token--identifier" style="color:var(--sh-identifier)">value</span><span class="sh__token--sign" style="color:var(--sh-sign)">.</span><span class="sh__token--property" style="color:var(--sh-property)">isoformat</span><span class="sh__token--sign" style="color:var(--sh-sign)">(</span><span class="sh__token--sign" style="color:var(--sh-sign)">)</span><span class="sh__token--break" style="color:var(--sh-break)"></span></span>
<span class="sh__line"><span class="sh__token--break" style="color:var(--sh-break)"></span></span>
<span class="sh__line"><span class="sh__token--sign" style="color:var(--sh-sign)">@</span><span class="sh__token--identifier" style="color:var(--sh-identifier)">to_json_serializable</span><span class="sh__token--sign" style="color:var(--sh-sign)">.</span><span class="sh__token--property" style="color:var(--sh-property)">register</span><span class="sh__token--sign" style="color:var(--sh-sign)">(</span><span class="sh__token--class" style="color:var(--sh-class)">Decimal</span><span class="sh__token--sign" style="color:var(--sh-sign)">)</span><span class="sh__token--break" style="color:var(--sh-break)"></span></span>
<span class="sh__line"><span class="sh__token--identifier" style="color:var(--sh-identifier)">def</span><span class="sh__token--space" style="color:var(--sh-space)"> </span><span class="sh__token--class" style="color:var(--sh-class)">_</span><span class="sh__token--sign" style="color:var(--sh-sign)">(</span><span class="sh__token--identifier" style="color:var(--sh-identifier)">value</span><span class="sh__token--sign" style="color:var(--sh-sign)">)</span><span class="sh__token--sign" style="color:var(--sh-sign)">:</span><span class="sh__token--break" style="color:var(--sh-break)"></span></span>
<span class="sh__line"><span class="sh__token--space" style="color:var(--sh-space)">    </span><span class="sh__token--keyword" style="color:var(--sh-keyword)">return</span><span class="sh__token--space" style="color:var(--sh-space)"> </span><span class="sh__token--identifier" style="color:var(--sh-identifier)">float</span><span class="sh__token--sign" style="color:var(--sh-sign)">(</span><span class="sh__token--identifier" style="color:var(--sh-identifier)">value</span><span class="sh__token--sign" style="color:var(--sh-sign)">)</span><span class="sh__token--break" style="color:var(--sh-break)"></span></span>
<span class="sh__line"><span class="sh__token--break" style="color:var(--sh-break)"></span></span>
<span class="sh__line"><span class="sh__token--sign" style="color:var(--sh-sign)">@</span><span class="sh__token--identifier" style="color:var(--sh-identifier)">to_json_serializable</span><span class="sh__token--sign" style="color:var(--sh-sign)">.</span><span class="sh__token--property" style="color:var(--sh-property)">register</span><span class="sh__token--sign" style="color:var(--sh-sign)">(</span><span class="sh__token--identifier" style="color:var(--sh-identifier)">list</span><span class="sh__token--sign" style="color:var(--sh-sign)">)</span><span class="sh__token--break" style="color:var(--sh-break)"></span></span>
<span class="sh__line"><span class="sh__token--identifier" style="color:var(--sh-identifier)">def</span><span class="sh__token--space" style="color:var(--sh-space)"> </span><span class="sh__token--class" style="color:var(--sh-class)">_</span><span class="sh__token--sign" style="color:var(--sh-sign)">(</span><span class="sh__token--identifier" style="color:var(--sh-identifier)">value</span><span class="sh__token--sign" style="color:var(--sh-sign)">)</span><span class="sh__token--sign" style="color:var(--sh-sign)">:</span><span class="sh__token--break" style="color:var(--sh-break)"></span></span>
<span class="sh__line"><span class="sh__token--space" style="color:var(--sh-space)">    </span><span class="sh__token--keyword" style="color:var(--sh-keyword)">return</span><span class="sh__token--space" style="color:var(--sh-space)"> </span><span class="sh__token--sign" style="color:var(--sh-sign)">[</span><span class="sh__token--identifier" style="color:var(--sh-identifier)">to_json_serializable</span><span class="sh__token--sign" style="color:var(--sh-sign)">(</span><span class="sh__token--identifier" style="color:var(--sh-identifier)">item</span><span class="sh__token--sign" style="color:var(--sh-sign)">)</span><span class="sh__token--space" style="color:var(--sh-space)"> </span><span class="sh__token--keyword" style="color:var(--sh-keyword)">for</span><span class="sh__token--space" style="color:var(--sh-space)"> </span><span class="sh__token--identifier" style="color:var(--sh-identifier)">item</span><span class="sh__token--space" style="color:var(--sh-space)"> </span><span class="sh__token--keyword" style="color:var(--sh-keyword)">in</span><span class="sh__token--space" style="color:var(--sh-space)"> </span><span class="sh__token--identifier" style="color:var(--sh-identifier)">value</span><span class="sh__token--sign" style="color:var(--sh-sign)">]</span><span class="sh__token--break" style="color:var(--sh-break)"></span></span>
<span class="sh__line"><span class="sh__token--break" style="color:var(--sh-break)"></span></span>
<span class="sh__line"><span class="sh__token--sign" style="color:var(--sh-sign)">#</span><span class="sh__token--space" style="color:var(--sh-space)"> </span><span class="sh__token--class" style="color:var(--sh-class)">Usage</span><span class="sh__token--break" style="color:var(--sh-break)"></span></span>
<span class="sh__line"><span class="sh__token--identifier" style="color:var(--sh-identifier)">data</span><span class="sh__token--space" style="color:var(--sh-space)"> </span><span class="sh__token--sign" style="color:var(--sh-sign)">=</span><span class="sh__token--space" style="color:var(--sh-space)"> </span><span class="sh__token--sign" style="color:var(--sh-sign)">{</span><span class="sh__token--break" style="color:var(--sh-break)"></span></span>
<span class="sh__line"><span class="sh__token--space" style="color:var(--sh-space)">    </span><span class="sh__token--string" style="color:var(--sh-string)">&quot;</span><span class="sh__token--string" style="color:var(--sh-string)">timestamp</span><span class="sh__token--string" style="color:var(--sh-string)">&quot;</span><span class="sh__token--sign" style="color:var(--sh-sign)">:</span><span class="sh__token--space" style="color:var(--sh-space)"> </span><span class="sh__token--identifier" style="color:var(--sh-identifier)">to_json_serializable</span><span class="sh__token--sign" style="color:var(--sh-sign)">(</span><span class="sh__token--identifier" style="color:var(--sh-identifier)">datetime</span><span class="sh__token--sign" style="color:var(--sh-sign)">.</span><span class="sh__token--property" style="color:var(--sh-property)">utcnow</span><span class="sh__token--sign" style="color:var(--sh-sign)">(</span><span class="sh__token--sign" style="color:var(--sh-sign)">)</span><span class="sh__token--sign" style="color:var(--sh-sign)">)</span><span class="sh__token--sign" style="color:var(--sh-sign)">,</span><span class="sh__token--break" style="color:var(--sh-break)"></span></span>
<span class="sh__line"><span class="sh__token--space" style="color:var(--sh-space)">    </span><span class="sh__token--string" style="color:var(--sh-string)">&quot;</span><span class="sh__token--string" style="color:var(--sh-string)">price</span><span class="sh__token--string" style="color:var(--sh-string)">&quot;</span><span class="sh__token--sign" style="color:var(--sh-sign)">:</span><span class="sh__token--space" style="color:var(--sh-space)"> </span><span class="sh__token--identifier" style="color:var(--sh-identifier)">to_json_serializable</span><span class="sh__token--sign" style="color:var(--sh-sign)">(</span><span class="sh__token--class" style="color:var(--sh-class)">Decimal</span><span class="sh__token--sign" style="color:var(--sh-sign)">(</span><span class="sh__token--string" style="color:var(--sh-string)">&quot;</span><span class="sh__token--string" style="color:var(--sh-string)">19.99</span><span class="sh__token--string" style="color:var(--sh-string)">&quot;</span><span class="sh__token--sign" style="color:var(--sh-sign)">)</span><span class="sh__token--sign" style="color:var(--sh-sign)">)</span><span class="sh__token--sign" style="color:var(--sh-sign)">,</span><span class="sh__token--break" style="color:var(--sh-break)"></span></span>
<span class="sh__line"><span class="sh__token--space" style="color:var(--sh-space)">    </span><span class="sh__token--string" style="color:var(--sh-string)">&quot;</span><span class="sh__token--string" style="color:var(--sh-string)">tags</span><span class="sh__token--string" style="color:var(--sh-string)">&quot;</span><span class="sh__token--sign" style="color:var(--sh-sign)">:</span><span class="sh__token--space" style="color:var(--sh-space)"> </span><span class="sh__token--identifier" style="color:var(--sh-identifier)">to_json_serializable</span><span class="sh__token--sign" style="color:var(--sh-sign)">(</span><span class="sh__token--sign" style="color:var(--sh-sign)">[</span><span class="sh__token--string" style="color:var(--sh-string)">&quot;</span><span class="sh__token--string" style="color:var(--sh-string)">promo</span><span class="sh__token--string" style="color:var(--sh-string)">&quot;</span><span class="sh__token--sign" style="color:var(--sh-sign)">,</span><span class="sh__token--space" style="color:var(--sh-space)"> </span><span class="sh__token--string" style="color:var(--sh-string)">&quot;</span><span class="sh__token--string" style="color:var(--sh-string)">sale</span><span class="sh__token--string" style="color:var(--sh-string)">&quot;</span><span class="sh__token--sign" style="color:var(--sh-sign)">]</span><span class="sh__token--sign" style="color:var(--sh-sign)">)</span><span class="sh__token--sign" style="color:var(--sh-sign)">,</span><span class="sh__token--break" style="color:var(--sh-break)"></span></span>
<span class="sh__line"><span class="sh__token--sign" style="color:var(--sh-sign)">}</span><span class="sh__token--break" style="color:var(--sh-break)"></span></span>
<span class="sh__line"><span class="sh__token--break" style="color:var(--sh-break)"></span></span>
<span class="sh__line"><span class="sh__token--identifier" style="color:var(--sh-identifier)">print</span><span class="sh__token--sign" style="color:var(--sh-sign)">(</span><span class="sh__token--identifier" style="color:var(--sh-identifier)">json</span><span class="sh__token--sign" style="color:var(--sh-sign)">.</span><span class="sh__token--property" style="color:var(--sh-property)">dumps</span><span class="sh__token--sign" style="color:var(--sh-sign)">(</span><span class="sh__token--identifier" style="color:var(--sh-identifier)">data</span><span class="sh__token--sign" style="color:var(--sh-sign)">,</span><span class="sh__token--space" style="color:var(--sh-space)"> </span><span class="sh__token--identifier" style="color:var(--sh-identifier)">indent</span><span class="sh__token--sign" style="color:var(--sh-sign)">=</span><span class="sh__token--class" style="color:var(--sh-class)">2</span><span class="sh__token--sign" style="color:var(--sh-sign)">)</span><span class="sh__token--sign" style="color:var(--sh-sign)">)</span><span class="sh__token--break" style="color:var(--sh-break)"></span></span></code></pre>
<h3 id="faqs"><a href="#faqs" class="anchor"></a>FAQs</h3>
<p><strong>Q: Does this replace object-oriented polymorphism?</strong>
A: No, it complements it. This is for functions, not classes.</p>
<p><strong>Q: Can I use it with custom classes?</strong>
A: Absolutely. Just register your class type with the dispatcher.</p>
<p><strong>Q: What happens if a type isn’t registered?</strong>
A: The base function is called — you can handle it with a fallback or raise a <code><span class="sh__line"><span class="sh__token--class" style="color:var(--sh-class)">TypeError</span></span></code>.</p>
<p><strong>Q: Can I dispatch on more than one argument?</strong>
A: No — <code><span class="sh__line"><span class="sh__token--sign" style="color:var(--sh-sign)">@</span><span class="sh__token--identifier" style="color:var(--sh-identifier)">singledispatch</span></span></code> only works on the first argument.</p>
<p><strong>Q: Is there a class-based version?</strong>
A: Yes, Python 3.8+ includes <code><span class="sh__line"><span class="sh__token--sign" style="color:var(--sh-sign)">@</span><span class="sh__token--identifier" style="color:var(--sh-identifier)">singledispatchmethod</span></span></code> for methods inside classes.</p>
<hr/>
<h3 id="final-word"><a href="#final-word" class="anchor"></a>Final Word</h3>
<p><code><span class="sh__line"><span class="sh__token--sign" style="color:var(--sh-sign)">@</span><span class="sh__token--identifier" style="color:var(--sh-identifier)">singledispatch</span></span></code> is a powerful, Pythonic way to implement polymorphism and clean up messy code.</p>
<p>It encourages modular design, extensibility, and readable logic separation by type.</p>
<p>Whether you&#x27;re serializing data, formatting logs, or building type-specific behavior, this tool will save you time and refactors.</p>
<p>It’s one of those &quot;once you know it, you use it everywhere&quot; Python features.</p>
<hr/>
<img alt="Illustration of a Python snake holding a toolbox labeled &#x27;Polymorphism&#x27;, admiring a clean OOP codebase on a monitor" loading="lazy" width="640" height="500" decoding="async" data-nimg="1" class="rounded-lg" style="color:transparent" src="/photos/polymorpism-in-python-1.png"/></article></section><!--$--><!--/$--><!--$--><!--/$--><small class="jsx-fbbec1edabbd286e block lg:mt-24 mt-16 text-[#1C1C1C] dark:text-[#D4D4D4]"><time class="jsx-fbbec1edabbd286e">© <!-- -->2025</time> <!-- -->Akash Patki<div class="flex text-lg gap-3.5 float-right transition-opacity duration-300 hover:opacity-90"><a href="https://github.com/keycache" target="_blank" rel="noopener noreferrer"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 496 512" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"></path></svg></a><a href="https://ca.linkedin.com/in/akashpatki" target="_blank" rel="noopener noreferrer"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 448 512" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M100.28 448H7.4V148.9h92.88zM53.79 108.1C24.09 108.1 0 83.5 0 53.8a53.79 53.79 0 0 1 107.58 0c0 29.7-24.1 54.3-53.79 54.3zM447.9 448h-92.68V302.4c0-34.7-.7-79.2-48.29-79.2-48.29 0-55.69 37.7-55.69 76.7V448h-92.78V148.9h89.08v40.8h1.3c12.4-23.5 42.69-48.3 87.88-48.3 94 0 111.28 61.9 111.28 142.3V448z"></path></svg></a></div></small><!--$!--><template data-dgst="BAILOUT_TO_CLIENT_SIDE_RENDERING"></template><!--/$--></main><script src="/_next/static/chunks/webpack-d01efc07563e4248.js" async=""></script><script>(self.__next_f=self.__next_f||[]).push([0])</script><script>self.__next_f.push([1,"1:\"$Sreact.fragment\"\n2:I[4927,[\"73\",\"static/chunks/5398b9db-8419f9f8598b8d28.js\",\"252\",\"static/chunks/252-822a320d24ca2e02.js\",\"177\",\"static/chunks/app/layout-6b390b4951074596.js\"],\"ThemeProvider\"]\n3:I[6252,[\"252\",\"static/chunks/252-822a320d24ca2e02.js\",\"274\",\"static/chunks/274-769122914a4517f4.js\",\"930\",\"static/chunks/930-0b53e8fd2502cd51.js\",\"953\",\"static/chunks/app/blog/%5Bslug%5D/page-d16a4e7949a9ec68.js\"],\"\"]\n4:I[4927,[\"73\",\"static/chunks/5398b9db-8419f9f8598b8d28.js\",\"252\",\"static/chunks/252-822a320d24ca2e02.js\",\"177\",\"static/chunks/app/layout-6b390b4951074596.js\"],\"ThemeSwitch\"]\n5:I[2329,[],\"\"]\n6:I[3517,[\"39\",\"static/chunks/app/error-8198244559251fde.js\"],\"default\"]\n7:I[3725,[],\"\"]\n8:I[9744,[\"73\",\"static/chunks/5398b9db-8419f9f8598b8d28.js\",\"252\",\"static/chunks/252-822a320d24ca2e02.js\",\"177\",\"static/chunks/app/layout-6b390b4951074596.js\"],\"default\"]\n9:I[8669,[\"73\",\"static/chunks/5398b9db-8419f9f8598b8d28.js\",\"252\",\"static/chunks/252-822a320d24ca2e02.js\",\"177\",\"static/chunks/app/layout-6b390b4951074596.js\"],\"Analytics\"]\na:I[9163,[\"73\",\"static/chunks/5398b9db-8419f9f8598b8d28.js\",\"252\",\"static/chunks/252-822a320d24ca2e02.js\",\"177\",\"static/chunks/app/layout-6b390b4951074596.js\"],\"SpeedInsights\"]\nc:I[2207,[],\"MetadataBoundary\"]\ne:I[2207,[],\"OutletBoundary\"]\n11:I[2533,[],\"AsyncMetadataOutlet\"]\n13:I[2207,[],\"ViewportBoundary\"]\n15:I[5992,[],\"\"]\n:HL[\"/_next/static/media/e4af272ccee01ff0-s.p.woff2\",\"font\",{\"crossOrigin\":\"\",\"type\":\"font/woff2\"}]\n:HL[\"/_next/static/css/59273e8f773fc2b7.css\",\"style\"]\n:HL[\"/_next/static/css/2b3a655339adccf8.css\",\"style\"]\n:HL[\"/_next/static/css/ef46db3751d8e999.css\",\"style\"]\n"])</script><script>self.__next_f.push([1,"0:{\"P\":null,\"b\":\"2qEtAzYbzMkvn6YNsXH9a\",\"p\":\"\",\"c\":[\"\",\"blog\",\"polymorpism-in-python\",\"\"],\"i\":false,\"f\":[[[\"\",{\"children\":[\"blog\",{\"children\":[[\"slug\",\"polymorpism-in-python\",\"d\"],{\"children\":[\"__PAGE__\",{}]}]}]},\"$undefined\",\"$undefined\",true],[\"\",[\"$\",\"$1\",\"c\",{\"children\":[[[\"$\",\"link\",\"0\",{\"rel\":\"stylesheet\",\"href\":\"/_next/static/css/59273e8f773fc2b7.css\",\"precedence\":\"next\",\"crossOrigin\":\"$undefined\",\"nonce\":\"$undefined\"}]],[\"$\",\"html\",null,{\"lang\":\"en\",\"className\":\"__className_e8ce0c\",\"children\":[[\"$\",\"head\",null,{\"children\":[[\"$\",\"link\",null,{\"rel\":\"alternate\",\"type\":\"application/rss+xml\",\"href\":\"/rss.xml\",\"title\":\"RSS Feed\"}],[\"$\",\"link\",null,{\"rel\":\"alternate\",\"type\":\"application/atom+xml\",\"href\":\"/atom.xml\",\"title\":\"Atom Feed\"}],[\"$\",\"link\",null,{\"rel\":\"alternate\",\"type\":\"application/feed+json\",\"href\":\"/feed.json\",\"title\":\"JSON Feed\"}]]}],[\"$\",\"body\",null,{\"className\":\"antialiased flex flex-col items-center justify-center mx-auto mt-2 lg:mt-8 mb-12\",\"children\":[\"$\",\"$L2\",null,{\"attribute\":\"class\",\"defaultTheme\":\"system\",\"enableSystem\":true,\"disableTransitionOnChange\":true,\"children\":[\"$\",\"main\",null,{\"className\":\"flex-auto min-w-0 mt-2 md:mt-6 flex flex-col px-6 sm:px-4 md:px-0 max-w-[624px] w-full\",\"children\":[[\"$\",\"nav\",null,{\"className\":\"lg:mb-16 mb-12 py-5\",\"children\":[\"$\",\"div\",null,{\"className\":\"flex flex-col md:flex-row md:items-center justify-between\",\"children\":[[\"$\",\"div\",null,{\"className\":\"flex items-center\",\"children\":[\"$\",\"$L3\",null,{\"href\":\"/\",\"className\":\"text-3xl font-semibold\",\"children\":\"Akash Patki\"}]}],[\"$\",\"div\",null,{\"className\":\"flex flex-row gap-4 mt-6 md:mt-0 md:ml-auto items-center\",\"children\":[[[\"$\",\"$L3\",\"/blog\",{\"href\":\"/blog\",\"className\":\"transition-all hover:text-neutral-800 dark:hover:text-neutral-200 flex align-middle relative\",\"children\":\"Blog\"}],[\"$\",\"$L3\",\"/projects\",{\"href\":\"/projects\",\"className\":\"transition-all hover:text-neutral-800 dark:hover:text-neutral-200 flex align-middle relative\",\"children\":\"Projects\"}],[\"$\",\"$L3\",\"/\",{\"href\":\"/\",\"className\":\"transition-all hover:text-neutral-800 dark:hover:text-neutral-200 flex align-middle relative\",\"children\":\"Home\"}]],[\"$\",\"$L4\",null,{}]]}]]}]}],[\"$\",\"$L5\",null,{\"parallelRouterKey\":\"children\",\"error\":\"$6\",\"errorStyles\":[],\"errorScripts\":[],\"template\":[\"$\",\"$L7\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":[[\"$\",\"section\",null,{\"children\":[[\"$\",\"h1\",null,{\"className\":\"font-medium text-2xl mb-8\",\"children\":\"404 - Page not found\"}],[\"$\",\"p\",null,{\"className\":\"mb-4\",\"children\":\"Oops! The page you're looking for doesn't seem to exist.\"}]]}],[]],\"forbidden\":\"$undefined\",\"unauthorized\":\"$undefined\"}],[\"$\",\"$L8\",null,{}],[\"$\",\"$L9\",null,{}],[\"$\",\"$La\",null,{}]]}]}]}]]}]]}],{\"children\":[\"blog\",[\"$\",\"$1\",\"c\",{\"children\":[null,[\"$\",\"$L5\",null,{\"parallelRouterKey\":\"children\",\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L7\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":\"$undefined\",\"forbidden\":\"$undefined\",\"unauthorized\":\"$undefined\"}]]}],{\"children\":[[\"slug\",\"polymorpism-in-python\",\"d\"],[\"$\",\"$1\",\"c\",{\"children\":[null,[\"$\",\"$L5\",null,{\"parallelRouterKey\":\"children\",\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L7\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":\"$undefined\",\"forbidden\":\"$undefined\",\"unauthorized\":\"$undefined\"}]]}],{\"children\":[\"__PAGE__\",[\"$\",\"$1\",\"c\",{\"children\":[\"$Lb\",[\"$\",\"$Lc\",null,{\"children\":\"$Ld\"}],[[\"$\",\"link\",\"0\",{\"rel\":\"stylesheet\",\"href\":\"/_next/static/css/2b3a655339adccf8.css\",\"precedence\":\"next\",\"crossOrigin\":\"$undefined\",\"nonce\":\"$undefined\"}],[\"$\",\"link\",\"1\",{\"rel\":\"stylesheet\",\"href\":\"/_next/static/css/ef46db3751d8e999.css\",\"precedence\":\"next\",\"crossOrigin\":\"$undefined\",\"nonce\":\"$undefined\"}]],[\"$\",\"$Le\",null,{\"children\":[\"$Lf\",\"$L10\",[\"$\",\"$L11\",null,{\"promise\":\"$@12\"}]]}]]}],{},null,false]},null,false]},null,false]},null,false],[\"$\",\"$1\",\"h\",{\"children\":[null,[\"$\",\"$1\",\"NnVWOR8qSO_z54G37rIaf\",{\"children\":[[\"$\",\"$L13\",null,{\"children\":\"$L14\"}],[\"$\",\"meta\",null,{\"name\":\"next-size-adjust\",\"content\":\"\"}]]}],null]}],false]],\"m\":\"$undefined\",\"G\":[\"$15\",\"$undefined\"],\"s\":false,\"S\":true}\n"])</script><script>self.__next_f.push([1,"16:\"$Sreact.suspense\"\n17:I[2533,[],\"AsyncMetadata\"]\nd:[\"$\",\"$16\",null,{\"fallback\":null,\"children\":[\"$\",\"$L17\",null,{\"promise\":\"$@18\"}]}]\nb:[\"$\",\"section\",null,{\"children\":[[\"$\",\"script\",null,{\"type\":\"application/ld+json\",\"suppressHydrationWarning\":true,\"dangerouslySetInnerHTML\":{\"__html\":\"{\\\"@context\\\":\\\"https://schema.org\\\",\\\"@type\\\":\\\"BlogPosting\\\",\\\"headline\\\":\\\"No More `if isinstance`— Polymorphism in Python with `@singledispatch`!\\\",\\\"datePublished\\\":\\\"2025-07-15\\\",\\\"dateModified\\\":\\\"2025-07-15\\\",\\\"description\\\":\\\"Polymorphism sounds complex, but it’s easier (and cooler) than you think. Let a cartoon snake walk you through writing cleaner Python code.\\\",\\\"image\\\":\\\"/og?title=No%20More%20%60if%20isinstance%60%E2%80%94%20Polymorphism%20in%20Python%20with%20%60%40singledispatch%60!\\\",\\\"url\\\":\\\"https://keycache.github.io//blog/polymorpism-in-python\\\",\\\"author\\\":{\\\"@type\\\":\\\"Person\\\",\\\"name\\\":\\\"KeyCache\\\"}}\"}}],[\"$\",\"h1\",null,{\"className\":\"title mb-3 font-medium text-2xl\",\"children\":\"No More `if isinstance`— Polymorphism in Python with `@singledispatch`!\"}],[\"$\",\"div\",null,{\"className\":\"flex justify-between items-center mt-2 mb-8 text-medium\",\"children\":[\"$\",\"p\",null,{\"className\":\"text-sm text-neutral-600 dark:text-neutral-400\",\"children\":\"Jul 15, 2025\"}]}],[\"$\",\"article\",null,{\"className\":\"prose prose-quoteless prose-neutral dark:prose-invert\",\"children\":\"$L19\"}]]}]\n"])</script><script>self.__next_f.push([1,"10:null\n"])</script><script>self.__next_f.push([1,"1a:I[4893,[\"252\",\"static/chunks/252-822a320d24ca2e02.js\",\"274\",\"static/chunks/274-769122914a4517f4.js\",\"930\",\"static/chunks/930-0b53e8fd2502cd51.js\",\"953\",\"static/chunks/app/blog/%5Bslug%5D/page-d16a4e7949a9ec68.js\"],\"Image\"]\n1b:T425f,"])</script><script>self.__next_f.push([1,"\u003cspan class=\"sh__line\"\u003e\u003cspan class=\"sh__token--keyword\" style=\"color:var(--sh-keyword)\"\u003efrom\u003c/span\u003e\u003cspan class=\"sh__token--space\" style=\"color:var(--sh-space)\"\u003e \u003c/span\u003e\u003cspan class=\"sh__token--identifier\" style=\"color:var(--sh-identifier)\"\u003efunctools\u003c/span\u003e\u003cspan class=\"sh__token--space\" style=\"color:var(--sh-space)\"\u003e \u003c/span\u003e\u003cspan class=\"sh__token--keyword\" style=\"color:var(--sh-keyword)\"\u003eimport\u003c/span\u003e\u003cspan class=\"sh__token--space\" style=\"color:var(--sh-space)\"\u003e \u003c/span\u003e\u003cspan class=\"sh__token--identifier\" style=\"color:var(--sh-identifier)\"\u003esingledispatch\u003c/span\u003e\u003cspan class=\"sh__token--break\" style=\"color:var(--sh-break)\"\u003e\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"sh__line\"\u003e\u003cspan class=\"sh__token--keyword\" style=\"color:var(--sh-keyword)\"\u003efrom\u003c/span\u003e\u003cspan class=\"sh__token--space\" style=\"color:var(--sh-space)\"\u003e \u003c/span\u003e\u003cspan class=\"sh__token--identifier\" style=\"color:var(--sh-identifier)\"\u003edatetime\u003c/span\u003e\u003cspan class=\"sh__token--space\" style=\"color:var(--sh-space)\"\u003e \u003c/span\u003e\u003cspan class=\"sh__token--keyword\" style=\"color:var(--sh-keyword)\"\u003eimport\u003c/span\u003e\u003cspan class=\"sh__token--space\" style=\"color:var(--sh-space)\"\u003e \u003c/span\u003e\u003cspan class=\"sh__token--identifier\" style=\"color:var(--sh-identifier)\"\u003edatetime\u003c/span\u003e\u003cspan class=\"sh__token--break\" style=\"color:var(--sh-break)\"\u003e\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"sh__line\"\u003e\u003cspan class=\"sh__token--keyword\" style=\"color:var(--sh-keyword)\"\u003efrom\u003c/span\u003e\u003cspan class=\"sh__token--space\" style=\"color:var(--sh-space)\"\u003e \u003c/span\u003e\u003cspan class=\"sh__token--identifier\" style=\"color:var(--sh-identifier)\"\u003edecimal\u003c/span\u003e\u003cspan class=\"sh__token--space\" style=\"color:var(--sh-space)\"\u003e \u003c/span\u003e\u003cspan class=\"sh__token--keyword\" style=\"color:var(--sh-keyword)\"\u003eimport\u003c/span\u003e\u003cspan class=\"sh__token--space\" style=\"color:var(--sh-space)\"\u003e \u003c/span\u003e\u003cspan class=\"sh__token--class\" style=\"color:var(--sh-class)\"\u003eDecimal\u003c/span\u003e\u003cspan class=\"sh__token--break\" style=\"color:var(--sh-break)\"\u003e\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"sh__line\"\u003e\u003cspan class=\"sh__token--keyword\" style=\"color:var(--sh-keyword)\"\u003eimport\u003c/span\u003e\u003cspan class=\"sh__token--space\" style=\"color:var(--sh-space)\"\u003e \u003c/span\u003e\u003cspan class=\"sh__token--identifier\" style=\"color:var(--sh-identifier)\"\u003ejson\u003c/span\u003e\u003cspan class=\"sh__token--break\" style=\"color:var(--sh-break)\"\u003e\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"sh__line\"\u003e\u003cspan class=\"sh__token--break\" style=\"color:var(--sh-break)\"\u003e\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"sh__line\"\u003e\u003cspan class=\"sh__token--sign\" style=\"color:var(--sh-sign)\"\u003e@\u003c/span\u003e\u003cspan class=\"sh__token--identifier\" style=\"color:var(--sh-identifier)\"\u003esingledispatch\u003c/span\u003e\u003cspan class=\"sh__token--break\" style=\"color:var(--sh-break)\"\u003e\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"sh__line\"\u003e\u003cspan class=\"sh__token--identifier\" style=\"color:var(--sh-identifier)\"\u003edef\u003c/span\u003e\u003cspan class=\"sh__token--space\" style=\"color:var(--sh-space)\"\u003e \u003c/span\u003e\u003cspan class=\"sh__token--identifier\" style=\"color:var(--sh-identifier)\"\u003eto_json_serializable\u003c/span\u003e\u003cspan class=\"sh__token--sign\" style=\"color:var(--sh-sign)\"\u003e(\u003c/span\u003e\u003cspan class=\"sh__token--identifier\" style=\"color:var(--sh-identifier)\"\u003evalue\u003c/span\u003e\u003cspan class=\"sh__token--sign\" style=\"color:var(--sh-sign)\"\u003e)\u003c/span\u003e\u003cspan class=\"sh__token--sign\" style=\"color:var(--sh-sign)\"\u003e:\u003c/span\u003e\u003cspan class=\"sh__token--break\" style=\"color:var(--sh-break)\"\u003e\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"sh__line\"\u003e\u003cspan class=\"sh__token--space\" style=\"color:var(--sh-space)\"\u003e    \u003c/span\u003e\u003cspan class=\"sh__token--identifier\" style=\"color:var(--sh-identifier)\"\u003eraise\u003c/span\u003e\u003cspan class=\"sh__token--space\" style=\"color:var(--sh-space)\"\u003e \u003c/span\u003e\u003cspan class=\"sh__token--class\" style=\"color:var(--sh-class)\"\u003eTypeError\u003c/span\u003e\u003cspan class=\"sh__token--sign\" style=\"color:var(--sh-sign)\"\u003e(\u003c/span\u003e\u003cspan class=\"sh__token--identifier\" style=\"color:var(--sh-identifier)\"\u003ef\u003c/span\u003e\u003cspan class=\"sh__token--string\" style=\"color:var(--sh-string)\"\u003e\u0026quot;\u003c/span\u003e\u003cspan class=\"sh__token--string\" style=\"color:var(--sh-string)\"\u003eType {type(value)} not serializable\u003c/span\u003e\u003cspan class=\"sh__token--string\" style=\"color:var(--sh-string)\"\u003e\u0026quot;\u003c/span\u003e\u003cspan class=\"sh__token--sign\" style=\"color:var(--sh-sign)\"\u003e)\u003c/span\u003e\u003cspan class=\"sh__token--break\" style=\"color:var(--sh-break)\"\u003e\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"sh__line\"\u003e\u003cspan class=\"sh__token--break\" style=\"color:var(--sh-break)\"\u003e\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"sh__line\"\u003e\u003cspan class=\"sh__token--sign\" style=\"color:var(--sh-sign)\"\u003e@\u003c/span\u003e\u003cspan class=\"sh__token--identifier\" style=\"color:var(--sh-identifier)\"\u003eto_json_serializable\u003c/span\u003e\u003cspan class=\"sh__token--sign\" style=\"color:var(--sh-sign)\"\u003e.\u003c/span\u003e\u003cspan class=\"sh__token--property\" style=\"color:var(--sh-property)\"\u003eregister\u003c/span\u003e\u003cspan class=\"sh__token--sign\" style=\"color:var(--sh-sign)\"\u003e(\u003c/span\u003e\u003cspan class=\"sh__token--identifier\" style=\"color:var(--sh-identifier)\"\u003edatetime\u003c/span\u003e\u003cspan class=\"sh__token--sign\" style=\"color:var(--sh-sign)\"\u003e)\u003c/span\u003e\u003cspan class=\"sh__token--break\" style=\"color:var(--sh-break)\"\u003e\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"sh__line\"\u003e\u003cspan class=\"sh__token--identifier\" style=\"color:var(--sh-identifier)\"\u003edef\u003c/span\u003e\u003cspan class=\"sh__token--space\" style=\"color:var(--sh-space)\"\u003e \u003c/span\u003e\u003cspan class=\"sh__token--class\" style=\"color:var(--sh-class)\"\u003e_\u003c/span\u003e\u003cspan class=\"sh__token--sign\" style=\"color:var(--sh-sign)\"\u003e(\u003c/span\u003e\u003cspan class=\"sh__token--identifier\" style=\"color:var(--sh-identifier)\"\u003evalue\u003c/span\u003e\u003cspan class=\"sh__token--sign\" style=\"color:var(--sh-sign)\"\u003e)\u003c/span\u003e\u003cspan class=\"sh__token--sign\" style=\"color:var(--sh-sign)\"\u003e:\u003c/span\u003e\u003cspan class=\"sh__token--break\" style=\"color:var(--sh-break)\"\u003e\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"sh__line\"\u003e\u003cspan class=\"sh__token--space\" style=\"color:var(--sh-space)\"\u003e    \u003c/span\u003e\u003cspan class=\"sh__token--keyword\" style=\"color:var(--sh-keyword)\"\u003ereturn\u003c/span\u003e\u003cspan class=\"sh__token--space\" style=\"color:var(--sh-space)\"\u003e \u003c/span\u003e\u003cspan class=\"sh__token--identifier\" style=\"color:var(--sh-identifier)\"\u003evalue\u003c/span\u003e\u003cspan class=\"sh__token--sign\" style=\"color:var(--sh-sign)\"\u003e.\u003c/span\u003e\u003cspan class=\"sh__token--property\" style=\"color:var(--sh-property)\"\u003eisoformat\u003c/span\u003e\u003cspan class=\"sh__token--sign\" style=\"color:var(--sh-sign)\"\u003e(\u003c/span\u003e\u003cspan class=\"sh__token--sign\" style=\"color:var(--sh-sign)\"\u003e)\u003c/span\u003e\u003cspan class=\"sh__token--break\" style=\"color:var(--sh-break)\"\u003e\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"sh__line\"\u003e\u003cspan class=\"sh__token--break\" style=\"color:var(--sh-break)\"\u003e\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"sh__line\"\u003e\u003cspan class=\"sh__token--sign\" style=\"color:var(--sh-sign)\"\u003e@\u003c/span\u003e\u003cspan class=\"sh__token--identifier\" style=\"color:var(--sh-identifier)\"\u003eto_json_serializable\u003c/span\u003e\u003cspan class=\"sh__token--sign\" style=\"color:var(--sh-sign)\"\u003e.\u003c/span\u003e\u003cspan class=\"sh__token--property\" style=\"color:var(--sh-property)\"\u003eregister\u003c/span\u003e\u003cspan class=\"sh__token--sign\" style=\"color:var(--sh-sign)\"\u003e(\u003c/span\u003e\u003cspan class=\"sh__token--class\" style=\"color:var(--sh-class)\"\u003eDecimal\u003c/span\u003e\u003cspan class=\"sh__token--sign\" style=\"color:var(--sh-sign)\"\u003e)\u003c/span\u003e\u003cspan class=\"sh__token--break\" style=\"color:var(--sh-break)\"\u003e\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"sh__line\"\u003e\u003cspan class=\"sh__token--identifier\" style=\"color:var(--sh-identifier)\"\u003edef\u003c/span\u003e\u003cspan class=\"sh__token--space\" style=\"color:var(--sh-space)\"\u003e \u003c/span\u003e\u003cspan class=\"sh__token--class\" style=\"color:var(--sh-class)\"\u003e_\u003c/span\u003e\u003cspan class=\"sh__token--sign\" style=\"color:var(--sh-sign)\"\u003e(\u003c/span\u003e\u003cspan class=\"sh__token--identifier\" style=\"color:var(--sh-identifier)\"\u003evalue\u003c/span\u003e\u003cspan class=\"sh__token--sign\" style=\"color:var(--sh-sign)\"\u003e)\u003c/span\u003e\u003cspan class=\"sh__token--sign\" style=\"color:var(--sh-sign)\"\u003e:\u003c/span\u003e\u003cspan class=\"sh__token--break\" style=\"color:var(--sh-break)\"\u003e\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"sh__line\"\u003e\u003cspan class=\"sh__token--space\" style=\"color:var(--sh-space)\"\u003e    \u003c/span\u003e\u003cspan class=\"sh__token--keyword\" style=\"color:var(--sh-keyword)\"\u003ereturn\u003c/span\u003e\u003cspan class=\"sh__token--space\" style=\"color:var(--sh-space)\"\u003e \u003c/span\u003e\u003cspan class=\"sh__token--identifier\" style=\"color:var(--sh-identifier)\"\u003efloat\u003c/span\u003e\u003cspan class=\"sh__token--sign\" style=\"color:var(--sh-sign)\"\u003e(\u003c/span\u003e\u003cspan class=\"sh__token--identifier\" style=\"color:var(--sh-identifier)\"\u003evalue\u003c/span\u003e\u003cspan class=\"sh__token--sign\" style=\"color:var(--sh-sign)\"\u003e)\u003c/span\u003e\u003cspan class=\"sh__token--break\" style=\"color:var(--sh-break)\"\u003e\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"sh__line\"\u003e\u003cspan class=\"sh__token--break\" style=\"color:var(--sh-break)\"\u003e\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"sh__line\"\u003e\u003cspan class=\"sh__token--sign\" style=\"color:var(--sh-sign)\"\u003e@\u003c/span\u003e\u003cspan class=\"sh__token--identifier\" style=\"color:var(--sh-identifier)\"\u003eto_json_serializable\u003c/span\u003e\u003cspan class=\"sh__token--sign\" style=\"color:var(--sh-sign)\"\u003e.\u003c/span\u003e\u003cspan class=\"sh__token--property\" style=\"color:var(--sh-property)\"\u003eregister\u003c/span\u003e\u003cspan class=\"sh__token--sign\" style=\"color:var(--sh-sign)\"\u003e(\u003c/span\u003e\u003cspan class=\"sh__token--identifier\" style=\"color:var(--sh-identifier)\"\u003elist\u003c/span\u003e\u003cspan class=\"sh__token--sign\" style=\"color:var(--sh-sign)\"\u003e)\u003c/span\u003e\u003cspan class=\"sh__token--break\" style=\"color:var(--sh-break)\"\u003e\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"sh__line\"\u003e\u003cspan class=\"sh__token--identifier\" style=\"color:var(--sh-identifier)\"\u003edef\u003c/span\u003e\u003cspan class=\"sh__token--space\" style=\"color:var(--sh-space)\"\u003e \u003c/span\u003e\u003cspan class=\"sh__token--class\" style=\"color:var(--sh-class)\"\u003e_\u003c/span\u003e\u003cspan class=\"sh__token--sign\" style=\"color:var(--sh-sign)\"\u003e(\u003c/span\u003e\u003cspan class=\"sh__token--identifier\" style=\"color:var(--sh-identifier)\"\u003evalue\u003c/span\u003e\u003cspan class=\"sh__token--sign\" style=\"color:var(--sh-sign)\"\u003e)\u003c/span\u003e\u003cspan class=\"sh__token--sign\" style=\"color:var(--sh-sign)\"\u003e:\u003c/span\u003e\u003cspan class=\"sh__token--break\" style=\"color:var(--sh-break)\"\u003e\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"sh__line\"\u003e\u003cspan class=\"sh__token--space\" style=\"color:var(--sh-space)\"\u003e    \u003c/span\u003e\u003cspan class=\"sh__token--keyword\" style=\"color:var(--sh-keyword)\"\u003ereturn\u003c/span\u003e\u003cspan class=\"sh__token--space\" style=\"color:var(--sh-space)\"\u003e \u003c/span\u003e\u003cspan class=\"sh__token--sign\" style=\"color:var(--sh-sign)\"\u003e[\u003c/span\u003e\u003cspan class=\"sh__token--identifier\" style=\"color:var(--sh-identifier)\"\u003eto_json_serializable\u003c/span\u003e\u003cspan class=\"sh__token--sign\" style=\"color:var(--sh-sign)\"\u003e(\u003c/span\u003e\u003cspan class=\"sh__token--identifier\" style=\"color:var(--sh-identifier)\"\u003eitem\u003c/span\u003e\u003cspan class=\"sh__token--sign\" style=\"color:var(--sh-sign)\"\u003e)\u003c/span\u003e\u003cspan class=\"sh__token--space\" style=\"color:var(--sh-space)\"\u003e \u003c/span\u003e\u003cspan class=\"sh__token--keyword\" style=\"color:var(--sh-keyword)\"\u003efor\u003c/span\u003e\u003cspan class=\"sh__token--space\" style=\"color:var(--sh-space)\"\u003e \u003c/span\u003e\u003cspan class=\"sh__token--identifier\" style=\"color:var(--sh-identifier)\"\u003eitem\u003c/span\u003e\u003cspan class=\"sh__token--space\" style=\"color:var(--sh-space)\"\u003e \u003c/span\u003e\u003cspan class=\"sh__token--keyword\" style=\"color:var(--sh-keyword)\"\u003ein\u003c/span\u003e\u003cspan class=\"sh__token--space\" style=\"color:var(--sh-space)\"\u003e \u003c/span\u003e\u003cspan class=\"sh__token--identifier\" style=\"color:var(--sh-identifier)\"\u003evalue\u003c/span\u003e\u003cspan class=\"sh__token--sign\" style=\"color:var(--sh-sign)\"\u003e]\u003c/span\u003e\u003cspan class=\"sh__token--break\" style=\"color:var(--sh-break)\"\u003e\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"sh__line\"\u003e\u003cspan class=\"sh__token--break\" style=\"color:var(--sh-break)\"\u003e\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"sh__line\"\u003e\u003cspan class=\"sh__token--sign\" style=\"color:var(--sh-sign)\"\u003e#\u003c/span\u003e\u003cspan class=\"sh__token--space\" style=\"color:var(--sh-space)\"\u003e \u003c/span\u003e\u003cspan class=\"sh__token--class\" style=\"color:var(--sh-class)\"\u003eUsage\u003c/span\u003e\u003cspan class=\"sh__token--break\" style=\"color:var(--sh-break)\"\u003e\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"sh__line\"\u003e\u003cspan class=\"sh__token--identifier\" style=\"color:var(--sh-identifier)\"\u003edata\u003c/span\u003e\u003cspan class=\"sh__token--space\" style=\"color:var(--sh-space)\"\u003e \u003c/span\u003e\u003cspan class=\"sh__token--sign\" style=\"color:var(--sh-sign)\"\u003e=\u003c/span\u003e\u003cspan class=\"sh__token--space\" style=\"color:var(--sh-space)\"\u003e \u003c/span\u003e\u003cspan class=\"sh__token--sign\" style=\"color:var(--sh-sign)\"\u003e{\u003c/span\u003e\u003cspan class=\"sh__token--break\" style=\"color:var(--sh-break)\"\u003e\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"sh__line\"\u003e\u003cspan class=\"sh__token--space\" style=\"color:var(--sh-space)\"\u003e    \u003c/span\u003e\u003cspan class=\"sh__token--string\" style=\"color:var(--sh-string)\"\u003e\u0026quot;\u003c/span\u003e\u003cspan class=\"sh__token--string\" style=\"color:var(--sh-string)\"\u003etimestamp\u003c/span\u003e\u003cspan class=\"sh__token--string\" style=\"color:var(--sh-string)\"\u003e\u0026quot;\u003c/span\u003e\u003cspan class=\"sh__token--sign\" style=\"color:var(--sh-sign)\"\u003e:\u003c/span\u003e\u003cspan class=\"sh__token--space\" style=\"color:var(--sh-space)\"\u003e \u003c/span\u003e\u003cspan class=\"sh__token--identifier\" style=\"color:var(--sh-identifier)\"\u003eto_json_serializable\u003c/span\u003e\u003cspan class=\"sh__token--sign\" style=\"color:var(--sh-sign)\"\u003e(\u003c/span\u003e\u003cspan class=\"sh__token--identifier\" style=\"color:var(--sh-identifier)\"\u003edatetime\u003c/span\u003e\u003cspan class=\"sh__token--sign\" style=\"color:var(--sh-sign)\"\u003e.\u003c/span\u003e\u003cspan class=\"sh__token--property\" style=\"color:var(--sh-property)\"\u003eutcnow\u003c/span\u003e\u003cspan class=\"sh__token--sign\" style=\"color:var(--sh-sign)\"\u003e(\u003c/span\u003e\u003cspan class=\"sh__token--sign\" style=\"color:var(--sh-sign)\"\u003e)\u003c/span\u003e\u003cspan class=\"sh__token--sign\" style=\"color:var(--sh-sign)\"\u003e)\u003c/span\u003e\u003cspan class=\"sh__token--sign\" style=\"color:var(--sh-sign)\"\u003e,\u003c/span\u003e\u003cspan class=\"sh__token--break\" style=\"color:var(--sh-break)\"\u003e\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"sh__line\"\u003e\u003cspan class=\"sh__token--space\" style=\"color:var(--sh-space)\"\u003e    \u003c/span\u003e\u003cspan class=\"sh__token--string\" style=\"color:var(--sh-string)\"\u003e\u0026quot;\u003c/span\u003e\u003cspan class=\"sh__token--string\" style=\"color:var(--sh-string)\"\u003eprice\u003c/span\u003e\u003cspan class=\"sh__token--string\" style=\"color:var(--sh-string)\"\u003e\u0026quot;\u003c/span\u003e\u003cspan class=\"sh__token--sign\" style=\"color:var(--sh-sign)\"\u003e:\u003c/span\u003e\u003cspan class=\"sh__token--space\" style=\"color:var(--sh-space)\"\u003e \u003c/span\u003e\u003cspan class=\"sh__token--identifier\" style=\"color:var(--sh-identifier)\"\u003eto_json_serializable\u003c/span\u003e\u003cspan class=\"sh__token--sign\" style=\"color:var(--sh-sign)\"\u003e(\u003c/span\u003e\u003cspan class=\"sh__token--class\" style=\"color:var(--sh-class)\"\u003eDecimal\u003c/span\u003e\u003cspan class=\"sh__token--sign\" style=\"color:var(--sh-sign)\"\u003e(\u003c/span\u003e\u003cspan class=\"sh__token--string\" style=\"color:var(--sh-string)\"\u003e\u0026quot;\u003c/span\u003e\u003cspan class=\"sh__token--string\" style=\"color:var(--sh-string)\"\u003e19.99\u003c/span\u003e\u003cspan class=\"sh__token--string\" style=\"color:var(--sh-string)\"\u003e\u0026quot;\u003c/span\u003e\u003cspan class=\"sh__token--sign\" style=\"color:var(--sh-sign)\"\u003e)\u003c/span\u003e\u003cspan class=\"sh__token--sign\" style=\"color:var(--sh-sign)\"\u003e)\u003c/span\u003e\u003cspan class=\"sh__token--sign\" style=\"color:var(--sh-sign)\"\u003e,\u003c/span\u003e\u003cspan class=\"sh__token--break\" style=\"color:var(--sh-break)\"\u003e\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"sh__line\"\u003e\u003cspan class=\"sh__token--space\" style=\"color:var(--sh-space)\"\u003e    \u003c/span\u003e\u003cspan class=\"sh__token--string\" style=\"color:var(--sh-string)\"\u003e\u0026quot;\u003c/span\u003e\u003cspan class=\"sh__token--string\" style=\"color:var(--sh-string)\"\u003etags\u003c/span\u003e\u003cspan class=\"sh__token--string\" style=\"color:var(--sh-string)\"\u003e\u0026quot;\u003c/span\u003e\u003cspan class=\"sh__token--sign\" style=\"color:var(--sh-sign)\"\u003e:\u003c/span\u003e\u003cspan class=\"sh__token--space\" style=\"color:var(--sh-space)\"\u003e \u003c/span\u003e\u003cspan class=\"sh__token--identifier\" style=\"color:var(--sh-identifier)\"\u003eto_json_serializable\u003c/span\u003e\u003cspan class=\"sh__token--sign\" style=\"color:var(--sh-sign)\"\u003e(\u003c/span\u003e\u003cspan class=\"sh__token--sign\" style=\"color:var(--sh-sign)\"\u003e[\u003c/span\u003e\u003cspan class=\"sh__token--string\" style=\"color:var(--sh-string)\"\u003e\u0026quot;\u003c/span\u003e\u003cspan class=\"sh__token--string\" style=\"color:var(--sh-string)\"\u003epromo\u003c/span\u003e\u003cspan class=\"sh__token--string\" style=\"color:var(--sh-string)\"\u003e\u0026quot;\u003c/span\u003e\u003cspan class=\"sh__token--sign\" style=\"color:var(--sh-sign)\"\u003e,\u003c/span\u003e\u003cspan class=\"sh__token--space\" style=\"color:var(--sh-space)\"\u003e \u003c/span\u003e\u003cspan class=\"sh__token--string\" style=\"color:var(--sh-string)\"\u003e\u0026quot;\u003c/span\u003e\u003cspan class=\"sh__token--string\" style=\"color:var(--sh-string)\"\u003esale\u003c/span\u003e\u003cspan class=\"sh__token--string\" style=\"color:var(--sh-string)\"\u003e\u0026quot;\u003c/span\u003e\u003cspan class=\"sh__token--sign\" style=\"color:var(--sh-sign)\"\u003e]\u003c/span\u003e\u003cspan class=\"sh__token--sign\" style=\"color:var(--sh-sign)\"\u003e)\u003c/span\u003e\u003cspan class=\"sh__token--sign\" style=\"color:var(--sh-sign)\"\u003e,\u003c/span\u003e\u003cspan class=\"sh__token--break\" style=\"color:var(--sh-break)\"\u003e\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"sh__line\"\u003e\u003cspan class=\"sh__token--sign\" style=\"color:var(--sh-sign)\"\u003e}\u003c/span\u003e\u003cspan class=\"sh__token--break\" style=\"color:var(--sh-break)\"\u003e\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"sh__line\"\u003e\u003cspan class=\"sh__token--break\" style=\"color:var(--sh-break)\"\u003e\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"sh__line\"\u003e\u003cspan class=\"sh__token--identifier\" style=\"color:var(--sh-identifier)\"\u003eprint\u003c/span\u003e\u003cspan class=\"sh__token--sign\" style=\"color:var(--sh-sign)\"\u003e(\u003c/span\u003e\u003cspan class=\"sh__token--identifier\" style=\"color:var(--sh-identifier)\"\u003ejson\u003c/span\u003e\u003cspan class=\"sh__token--sign\" style=\"color:var(--sh-sign)\"\u003e.\u003c/span\u003e\u003cspan class=\"sh__token--property\" style=\"color:var(--sh-property)\"\u003edumps\u003c/span\u003e\u003cspan class=\"sh__token--sign\" style=\"color:var(--sh-sign)\"\u003e(\u003c/span\u003e\u003cspan class=\"sh__token--identifier\" style=\"color:var(--sh-identifier)\"\u003edata\u003c/span\u003e\u003cspan class=\"sh__token--sign\" style=\"color:var(--sh-sign)\"\u003e,\u003c/span\u003e\u003cspan class=\"sh__token--space\" style=\"color:var(--sh-space)\"\u003e \u003c/span\u003e\u003cspan class=\"sh__token--identifier\" style=\"color:var(--sh-identifier)\"\u003eindent\u003c/span\u003e\u003cspan class=\"sh__token--sign\" style=\"color:var(--sh-sign)\"\u003e=\u003c/span\u003e\u003cspan class=\"sh__token--class\" style=\"color:var(--sh-class)\"\u003e2\u003c/span\u003e\u003cspan class=\"sh__token--sign\" style=\"color:var(--sh-sign)\"\u003e)\u003c/span\u003e\u003cspan class=\"sh__token--sign\" style=\"color:var(--sh-sign)\"\u003e)\u003c/span\u003e\u003cspan class=\"sh__token--break\" style=\"color:var(--sh-break)\"\u003e\u003c/span\u003e\u003c/span\u003e"])</script><script>self.__next_f.push([1,"19:[[\"$\",\"blockquote\",null,{\"children\":[\"\\n\",[\"$\",\"p\",null,{\"children\":\"Because type-checking spaghetti code is so 2022\"}],\"\\n\"]}],\"\\n\",[\"$\",\"$L1a\",null,{\"alt\":\"Happy Python Developer\",\"className\":\"rounded-lg\",\"src\":\"/photos/polymorpism-in-python-2.png\",\"width\":640,\"height\":500}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"Introduction\"}],\"\\n\",[\"$\",\"ul\",null,{\"children\":[\"\\n\",[\"$\",\"li\",null,{\"children\":[\"Tired of writing long \",[\"$\",\"code\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"\u003cspan class=\\\"sh__line\\\"\u003e\u003cspan class=\\\"sh__token--keyword\\\" style=\\\"color:var(--sh-keyword)\\\"\u003eif\u003c/span\u003e\u003cspan class=\\\"sh__token--space\\\" style=\\\"color:var(--sh-space)\\\"\u003e \u003c/span\u003e\u003cspan class=\\\"sh__token--identifier\\\" style=\\\"color:var(--sh-identifier)\\\"\u003eisinstance\u003c/span\u003e\u003cspan class=\\\"sh__token--sign\\\" style=\\\"color:var(--sh-sign)\\\"\u003e(\u003c/span\u003e\u003cspan class=\\\"sh__token--sign\\\" style=\\\"color:var(--sh-sign)\\\"\u003e.\u003c/span\u003e\u003cspan class=\\\"sh__token--sign\\\" style=\\\"color:var(--sh-sign)\\\"\u003e.\u003c/span\u003e\u003cspan class=\\\"sh__token--sign\\\" style=\\\"color:var(--sh-sign)\\\"\u003e.\u003c/span\u003e\u003cspan class=\\\"sh__token--sign\\\" style=\\\"color:var(--sh-sign)\\\"\u003e)\u003c/span\u003e\u003c/span\u003e\"}}],\" chains just to handle different data types?\"]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"Say hello to \",[\"$\",\"code\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"\u003cspan class=\\\"sh__line\\\"\u003e\u003cspan class=\\\"sh__token--sign\\\" style=\\\"color:var(--sh-sign)\\\"\u003e@\u003c/span\u003e\u003cspan class=\\\"sh__token--identifier\\\" style=\\\"color:var(--sh-identifier)\\\"\u003esingledispatch\u003c/span\u003e\u003c/span\u003e\"}}],\", Python’s elegant solution for type-based function overloading.\"]}],\"\\n\",[\"$\",\"li\",null,{\"children\":\"It’s Python’s take on polymorphism — and yes, it’s as cool as it sounds.\"}],\"\\n\",[\"$\",\"li\",null,{\"children\":\"In this blog, you’ll learn what it is, when to use it, and how it can make your code cleaner.\"}],\"\\n\",[\"$\",\"li\",null,{\"children\":\"We'll even walk through a real-world example: building a type-based serializer!\"}],\"\\n\"]}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"Prerequisites\"}],\"\\n\",[\"$\",\"ul\",null,{\"children\":[\"\\n\",[\"$\",\"li\",null,{\"children\":\"Basic knowledge of Python functions and decorators.\"}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"Understanding of data types like \",[\"$\",\"code\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"\u003cspan class=\\\"sh__line\\\"\u003e\u003cspan class=\\\"sh__token--identifier\\\" style=\\\"color:var(--sh-identifier)\\\"\u003eint\u003c/span\u003e\u003c/span\u003e\"}}],\", \",[\"$\",\"code\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"\u003cspan class=\\\"sh__line\\\"\u003e\u003cspan class=\\\"sh__token--identifier\\\" style=\\\"color:var(--sh-identifier)\\\"\u003estr\u003c/span\u003e\u003c/span\u003e\"}}],\", \",[\"$\",\"code\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"\u003cspan class=\\\"sh__line\\\"\u003e\u003cspan class=\\\"sh__token--identifier\\\" style=\\\"color:var(--sh-identifier)\\\"\u003elist\u003c/span\u003e\u003c/span\u003e\"}}],\", \",[\"$\",\"code\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"\u003cspan class=\\\"sh__line\\\"\u003e\u003cspan class=\\\"sh__token--identifier\\\" style=\\\"color:var(--sh-identifier)\\\"\u003edatetime\u003c/span\u003e\u003c/span\u003e\"}}],\", etc.\"]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"Familiarity with \",[\"$\",\"code\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"\u003cspan class=\\\"sh__line\\\"\u003e\u003cspan class=\\\"sh__token--identifier\\\" style=\\\"color:var(--sh-identifier)\\\"\u003eisinstance\u003c/span\u003e\u003cspan class=\\\"sh__token--sign\\\" style=\\\"color:var(--sh-sign)\\\"\u003e(\u003c/span\u003e\u003cspan class=\\\"sh__token--sign\\\" style=\\\"color:var(--sh-sign)\\\"\u003e)\u003c/span\u003e\u003c/span\u003e\"}}],\" and why it often clutters code.\"]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"Python 3.4+ (since \",[\"$\",\"code\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"\u003cspan class=\\\"sh__line\\\"\u003e\u003cspan class=\\\"sh__token--sign\\\" style=\\\"color:var(--sh-sign)\\\"\u003e@\u003c/span\u003e\u003cspan class=\\\"sh__token--identifier\\\" style=\\\"color:var(--sh-identifier)\\\"\u003esingledispatch\u003c/span\u003e\u003c/span\u003e\"}}],\" was added in Python 3.4).\"]}],\"\\n\",[\"$\",\"li\",null,{\"children\":\"A desire to write more modular and extensible code.\"}],\"\\n\"]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"Understanding \",[\"$\",\"code\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"\u003cspan class=\\\"sh__line\\\"\u003e\u003cspan class=\\\"sh__token--sign\\\" style=\\\"color:var(--sh-sign)\\\"\u003e@\u003c/span\u003e\u003cspan class=\\\"sh__token--identifier\\\" style=\\\"color:var(--sh-identifier)\\\"\u003esingledispatch\u003c/span\u003e\u003c/span\u003e\"}}]]}],\"\\n\",[\"$\",\"ul\",null,{\"children\":[\"\\n\",[\"$\",\"li\",null,{\"children\":[[\"$\",\"code\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"\u003cspan class=\\\"sh__line\\\"\u003e\u003cspan class=\\\"sh__token--sign\\\" style=\\\"color:var(--sh-sign)\\\"\u003e@\u003c/span\u003e\u003cspan class=\\\"sh__token--identifier\\\" style=\\\"color:var(--sh-identifier)\\\"\u003esingledispatch\u003c/span\u003e\u003c/span\u003e\"}}],\" is a decorator from \",[\"$\",\"code\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"\u003cspan class=\\\"sh__line\\\"\u003e\u003cspan class=\\\"sh__token--identifier\\\" style=\\\"color:var(--sh-identifier)\\\"\u003efunctools\u003c/span\u003e\u003c/span\u003e\"}}],\" that lets you define a function whose behavior varies based on the type of the first argument.\"]}],\"\\n\",[\"$\",\"li\",null,{\"children\":\"It's Python’s way of enabling ad hoc polymorphism — overloading based on type.\"}],\"\\n\",[\"$\",\"li\",null,{\"children\":\"Each type gets its own version of the function, registered separately.\"}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"Keeps logic isolated and clean — no need for nested \",[\"$\",\"code\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"\u003cspan class=\\\"sh__line\\\"\u003e\u003cspan class=\\\"sh__token--keyword\\\" style=\\\"color:var(--sh-keyword)\\\"\u003eif\u003c/span\u003e\u003cspan class=\\\"sh__token--sign\\\" style=\\\"color:var(--sh-sign)\\\"\u003e/\u003c/span\u003e\u003cspan class=\\\"sh__token--identifier\\\" style=\\\"color:var(--sh-identifier)\\\"\u003eelif\u003c/span\u003e\u003c/span\u003e\"}}],\" blocks.\"]}],\"\\n\",[\"$\",\"li\",null,{\"children\":\"Makes your codebase easier to extend and test.\"}],\"\\n\"]}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"Example: Type-Based Data Serializer\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"Scenario:\\nYou’re building an API or logging system that needs to serialize various Python objects (e.g., \",[\"$\",\"code\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"\u003cspan class=\\\"sh__line\\\"\u003e\u003cspan class=\\\"sh__token--identifier\\\" style=\\\"color:var(--sh-identifier)\\\"\u003edatetime\u003c/span\u003e\u003c/span\u003e\"}}],\", \",[\"$\",\"code\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"\u003cspan class=\\\"sh__line\\\"\u003e\u003cspan class=\\\"sh__token--class\\\" style=\\\"color:var(--sh-class)\\\"\u003eDecimal\u003c/span\u003e\u003c/span\u003e\"}}],\", \",[\"$\",\"code\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"\u003cspan class=\\\"sh__line\\\"\u003e\u003cspan class=\\\"sh__token--identifier\\\" style=\\\"color:var(--sh-identifier)\\\"\u003elist\u003c/span\u003e\u003c/span\u003e\"}}],\") into JSON-compatible formats.\"]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"The Problem:\\nUsing \",[\"$\",\"code\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"\u003cspan class=\\\"sh__line\\\"\u003e\u003cspan class=\\\"sh__token--identifier\\\" style=\\\"color:var(--sh-identifier)\\\"\u003eisinstance\u003c/span\u003e\u003cspan class=\\\"sh__token--sign\\\" style=\\\"color:var(--sh-sign)\\\"\u003e(\u003c/span\u003e\u003cspan class=\\\"sh__token--sign\\\" style=\\\"color:var(--sh-sign)\\\"\u003e)\u003c/span\u003e\u003c/span\u003e\"}}],\" checks everywhere creates tangled, unreadable code.\"]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"The Solution:\\nUse \",[\"$\",\"code\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"\u003cspan class=\\\"sh__line\\\"\u003e\u003cspan class=\\\"sh__token--sign\\\" style=\\\"color:var(--sh-sign)\\\"\u003e@\u003c/span\u003e\u003cspan class=\\\"sh__token--identifier\\\" style=\\\"color:var(--sh-identifier)\\\"\u003esingledispatch\u003c/span\u003e\u003c/span\u003e\"}}],\" to define clear, type-specific serializers.\"]}],\"\\n\",[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"$1b\"},\"className\":\"language-python\"}]}],\"\\n\",[\"$\",\"h3\",null,{\"id\":\"faqs\",\"children\":[[[\"$\",\"a\",\"link-faqs\",{\"href\":\"#faqs\",\"className\":\"anchor\"}]],\"FAQs\"]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":\"Q: Does this replace object-oriented polymorphism?\"}],\"\\nA: No, it complements it. This is for functions, not classes.\"]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":\"Q: Can I use it with custom classes?\"}],\"\\nA: Absolutely. Just register your class type with the dispatcher.\"]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":\"Q: What happens if a type isn’t registered?\"}],\"\\nA: The base function is called — you can handle it with a fallback or raise a \",[\"$\",\"code\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"\u003cspan class=\\\"sh__line\\\"\u003e\u003cspan class=\\\"sh__token--class\\\" style=\\\"color:var(--sh-class)\\\"\u003eTypeError\u003c/span\u003e\u003c/span\u003e\"}}],\".\"]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":\"Q: Can I dispatch on more than one argument?\"}],\"\\nA: No — \",[\"$\",\"code\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"\u003cspan class=\\\"sh__line\\\"\u003e\u003cspan class=\\\"sh__token--sign\\\" style=\\\"color:var(--sh-sign)\\\"\u003e@\u003c/span\u003e\u003cspan class=\\\"sh__token--identifier\\\" style=\\\"color:var(--sh-identifier)\\\"\u003esingledispatch\u003c/span\u003e\u003c/span\u003e\"}}],\" only works on the first argument.\"]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":\"Q: Is there a class-based version?\"}],\"\\nA: Yes, Python 3.8+ includes \",[\"$\",\"code\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"\u003cspan class=\\\"sh__line\\\"\u003e\u003cspan class=\\\"sh__token--sign\\\" style=\\\"color:var(--sh-sign)\\\"\u003e@\u003c/span\u003e\u003cspan class=\\\"sh__token--identifier\\\" style=\\\"color:var(--sh-identifier)\\\"\u003esingledispatchmethod\u003c/span\u003e\u003c/span\u003e\"}}],\" for methods inside classes.\"]}],\"\\n\",[\"$\",\"hr\",null,{}],\"\\n\",[\"$\",\"h3\",null,{\"id\":\"final-word\",\"children\":[[[\"$\",\"a\",\"link-final-word\",{\"href\":\"#final-word\",\"className\":\"anchor\"}]],\"Final Word\"]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[[\"$\",\"code\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"\u003cspan class=\\\"sh__line\\\"\u003e\u003cspan class=\\\"sh__token--sign\\\" style=\\\"color:var(--sh-sign)\\\"\u003e@\u003c/span\u003e\u003cspan class=\\\"sh__token--identifier\\\" style=\\\"color:var(--sh-identifier)\\\"\u003esingledispatch\u003c/span\u003e\u003c/span\u003e\"}}],\" is a powerful, Pythonic way to implement polymorphism and clean up messy code.\"]}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"It encourages modular design, extensibility, and readable logic separation by type.\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"Whether you're serializing data, formatting logs, or building type-specific behavior, this tool will save you time and refactors.\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"It’s one of those \\\"once you know it, you use it everywhere\\\" Python features.\"}],\"\\n\",[\"$\",\"hr\",null,{}],\"\\n\",[\"$\",\"$L1a\",null,{\"alt\":\"Illustration of a Python snake holding a toolbox labeled 'Polymorphism', admiring a clean OOP codebase on a monitor\",\"className\":\"rounded-lg\",\"src\":\"/photos/polymorpism-in-python-1.png\",\"width\":640,\"height\":500}]]\n"])</script><script>self.__next_f.push([1,"14:[[\"$\",\"meta\",\"0\",{\"charSet\":\"utf-8\"}],[\"$\",\"meta\",\"1\",{\"name\":\"viewport\",\"content\":\"width=device-width, initial-scale=1\"}]]\nf:null\n"])</script><script>self.__next_f.push([1,"18:{\"metadata\":[[\"$\",\"title\",\"0\",{\"children\":\"No More `if isinstance`— Polymorphism in Python with `@singledispatch`! | Akash Patki\"}],[\"$\",\"meta\",\"1\",{\"name\":\"description\",\"content\":\"Polymorphism sounds complex, but it’s easier (and cooler) than you think. Let a cartoon snake walk you through writing cleaner Python code.\"}],[\"$\",\"meta\",\"2\",{\"name\":\"robots\",\"content\":\"index, follow\"}],[\"$\",\"meta\",\"3\",{\"name\":\"googlebot\",\"content\":\"index, follow, max-video-preview:-1, max-image-preview:large, max-snippet:-1\"}],[\"$\",\"meta\",\"4\",{\"property\":\"og:title\",\"content\":\"No More `if isinstance`— Polymorphism in Python with `@singledispatch`!\"}],[\"$\",\"meta\",\"5\",{\"property\":\"og:description\",\"content\":\"Polymorphism sounds complex, but it’s easier (and cooler) than you think. Let a cartoon snake walk you through writing cleaner Python code.\"}],[\"$\",\"meta\",\"6\",{\"property\":\"og:url\",\"content\":\"https://keycache.github.io//blog/polymorpism-in-python/\"}],[\"$\",\"meta\",\"7\",{\"property\":\"og:image\",\"content\":\"https://keycache.github.io//og?title=No%20More%20%60if%20isinstance%60%E2%80%94%20Polymorphism%20in%20Python%20with%20%60%40singledispatch%60!\"}],[\"$\",\"meta\",\"8\",{\"property\":\"og:type\",\"content\":\"article\"}],[\"$\",\"meta\",\"9\",{\"property\":\"article:published_time\",\"content\":\"2025-07-15\"}],[\"$\",\"meta\",\"10\",{\"name\":\"twitter:card\",\"content\":\"summary_large_image\"}],[\"$\",\"meta\",\"11\",{\"name\":\"twitter:title\",\"content\":\"No More `if isinstance`— Polymorphism in Python with `@singledispatch`!\"}],[\"$\",\"meta\",\"12\",{\"name\":\"twitter:description\",\"content\":\"Polymorphism sounds complex, but it’s easier (and cooler) than you think. Let a cartoon snake walk you through writing cleaner Python code.\"}],[\"$\",\"meta\",\"13\",{\"name\":\"twitter:image\",\"content\":\"https://keycache.github.io//og?title=No%20More%20%60if%20isinstance%60%E2%80%94%20Polymorphism%20in%20Python%20with%20%60%40singledispatch%60!\"}],[\"$\",\"link\",\"14\",{\"rel\":\"icon\",\"href\":\"/favicon.ico\"}]],\"error\":null,\"digest\":\"$undefined\"}\n12:{\"metadata\":\"$18:metadata\",\"error\":null,\"digest\":\"$undefined\""])</script><script>self.__next_f.push([1,"}\n"])</script></body></html>